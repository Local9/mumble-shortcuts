import"../chunks/DsnmJJEf.js";import"../chunks/CX1tUVUX.js";import{ap as Pe,B as T,am as O,D as y,F as i,G as B,aq as q,x as e,an as he,C as M,H as z,ar as X,I as J,al as A,a8 as Se,u as Me,a9 as u,J as S,as as H,ao as V,E as ce,K as Ne,at as G}from"../chunks/C6m2mYil.js";import{c as De,D as we,b as ue,a as ge,m as Ue,d as me,I as pe,g as fe,e as ke,S as Je,f as Oe,h as Te,i as ve,B as Y,R as Be,s as K,j as Re,t as je}from"../chunks/D8tJfCLm.js";import{p as Q,i as Ce,r as F,b as Ee,c as U,s as oe}from"../chunks/C1O8TOAO.js";var Le=M("<div><!></div>");function We(f,t){const n=Pe();T(t,!0);let r=Q(t,"id",19,()=>De(n)),a=Q(t,"ref",15,null),v=F(t,["$$slots","$$events","$$legacy","id","children","child","ref"]);const d=we.create({id:ue(()=>r()),ref:ue(()=>a(),$=>a($))}),p=he(()=>Ue(v,d.props));var k=O(),R=y(k);{var Z=$=>{var I=O(),j=y(I);q(j,()=>t.child,()=>({props:e(p)})),i($,I)},ee=$=>{var I=Le();ge(I,()=>({...e(p)}));var j=z(I);q(j,()=>t.children??X),J(I),i($,I)};Ce(R,$=>{t.child?$(Z):$(ee,!1)})}i(f,k),B()}var Ae=M("<div><!></div>");function He(f,t){T(t,!0);let n=Q(t,"ref",15,null),r=F(t,["$$slots","$$events","$$legacy","ref","class","children"]);var a=Ae();ge(a,d=>({"data-slot":"sheet-footer",class:d,...r}),[()=>me("mt-auto flex flex-col gap-2 p-4",t.class)]);var v=z(a);q(v,()=>t.children??X),J(a),Ee(a,d=>n(d),()=>n()),i(f,a),B()}function Ve(f,t){T(t,!0);let n=Q(t,"ref",15,null),r=F(t,["$$slots","$$events","$$legacy","ref","class"]);var a=O(),v=y(a);{let d=he(()=>me("text-muted-foreground text-sm",t.class));U(v,()=>We,(p,k)=>{k(p,oe({"data-slot":"sheet-description",get class(){return e(d)}},()=>r,{get ref(){return n()},set ref(R){n(R)}}))})}i(f,a),B()}function Ye(f,t){T(t,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=F(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"}],["path",{d:"M3 6h18"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}]];pe(f,oe({name:"trash"},()=>n,{get iconNode(){return r},children:(a,v)=>{var d=O(),p=y(d);q(p,()=>t.children??X),i(a,d)},$$slots:{default:!0}})),B()}function qe(f,t){T(t,!0);/**
 * @license @lucide/svelte v0.544.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 * ---
 *
 * The MIT License (MIT) (for portions derived from Feather)
 *
 * Copyright (c) 2013-2023 Cole Bemis
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */let n=F(t,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}],["path",{d:"m15 5 4 4"}]];pe(f,oe({name:"pencil"},()=>n,{get iconNode(){return r},children:(a,v)=>{var d=O(),p=y(d);q(p,()=>t.children??X),i(a,d)},$$slots:{default:!0}})),B()}var ze=M('<div draggable="true" aria-label="Drag to reorder" aria-roledescription="Mumble shortcut" role="listitem"><!> <!> <!></div>'),Fe=M("<!> <!>",1),Ge=M("<!> <!>",1),Ke=M('<!> <div class="flex flex-col gap-2 p-4"><!> <!></div> <!>',1),Qe=M('<div class="flex flex-col gap-2 w-[500px]"></div> <!>',1);function Xe(f,t){T(t,!0);let n=A(null),r=A(Se(JSON.parse(fe("mumbleShortcuts")||"[]"))),a=A(null),v=A(null),d=A(!1);function p(s,l,h){const _=s.slice(),[c]=_.splice(l,1);return _.splice(h,0,c),_}function k(s,l){const h=e(r)[s];u(a,h?.id??null,!0),e(a)&&l.dataTransfer?.setData("text/plain",String(e(a)))}function R(s,l){if(l.preventDefault(),!e(a))return;const h=l.currentTarget;if(!h)return;const _=h.getBoundingClientRect(),c=l.clientY-_.top>_.height/2,g=e(v)??e(r),x=g.findIndex(P=>P.id===e(a)),b=g.findIndex(P=>P.id===s);if(x===-1||b===-1)return;let m=b+(c?1:0);m=Math.max(0,Math.min(g.length,m));const o=p(g,x,m>g.length-1?g.length-1:m);u(v,o,!0)}function Z(s,l){if(l.preventDefault(),e(v)){u(r,e(v),!0),K("mumbleShortcuts",JSON.stringify(e(r))),u(v,null),u(a,null);return}const h=e(a)??l.dataTransfer?.getData("text/plain")??null;if(!h){u(a,null);return}const _=l.currentTarget;if(!_)return;const c=_.getBoundingClientRect(),g=l.clientY-c.top>c.height/2,x=e(r).findIndex(o=>o.id===h),b=e(r).findIndex(o=>o.id===s);if(x===-1||b===-1){u(a,null);return}let m=b+(g?1:0);m=Math.max(0,Math.min(e(r).length,m)),u(r,p(e(r),x,m>e(r).length-1?e(r).length-1:m),!0),K("mumbleShortcuts",JSON.stringify(e(r))),u(a,null)}function ee(){u(a,null),u(v,null)}function $(s){s.mumbleUrl.startsWith("mumble://")?window.location.href=s.mumbleUrl:window.open(s.mumbleUrl,"_blank")}function I(s){u(r,e(r).filter(l=>l.id!==s.id),!0),K("mumbleShortcuts",JSON.stringify(e(r))),je.success("Mumble shortcut removed successfully")}Me(()=>{setInterval(()=>{u(r,JSON.parse(fe("mumbleShortcuts")||"[]"),!0)},1e3)});function j(s){u(n,s,!0),u(d,!0)}function _e(s){s.shortcutName===""||s.mumbleUrl===""||s.mumbleUrl.startsWith("mumble://")&&(u(r,e(r).map(l=>l.id===s.id?s:l),!0),K("mumbleShortcuts",JSON.stringify(e(r))),u(d,!1))}var ie=Qe(),te=y(ie);ke(te,23,()=>e(v)??e(r),s=>s.id,(s,l,h,_)=>{var c=ze();let g;var x=z(c);Y(x,{variant:"outline",onclick:()=>{$(e(l))},class:"grid-cols-1 justify-start self-start w-full",children:(o,P)=>{H();var C=V();ce(()=>Ne(C,e(l).shortcutName)),i(o,C)},$$slots:{default:!0}});var b=S(x,2);Y(b,{variant:"outline",onclick:()=>{j(e(l))},class:"grid-cols-1 justify-end self-end w-fit",children:(o,P)=>{qe(o,{})},$$slots:{default:!0}});var m=S(b,2);Y(m,{variant:"outline",onclick:()=>{I(e(l))},class:"grid-cols-1 justify-end self-end w-fit",children:(o,P)=>{Ye(o,{})},$$slots:{default:!0}}),J(c),ce(o=>g=Re(c,1,"grid grid-buttons gap-2 svelte-1d7pxs4",null,g,o),[()=>({"opacity-50":e(a)===e(l).id})]),G("dragstart",c,o=>{k(e(h),o)}),G("dragover",c,o=>{R(e(l).id,o)}),G("drop",c,o=>{Z(e(l).id,o)}),G("dragend",c,ee),i(s,c)}),J(te);var $e=S(te,2);U($e,()=>Be,(s,l)=>{l(s,{get open(){return e(d)},children:(h,_)=>{var c=O(),g=y(c);U(g,()=>Je,(x,b)=>{b(x,{children:(m,o)=>{var P=Ke(),C=y(P);U(C,()=>Oe,(N,ae)=>{ae(N,{children:(se,ye)=>{var E=Fe(),L=y(E);U(L,()=>Te,(D,W)=>{W(D,{children:(w,Ie)=>{H();var ne=V("Update Shortcut");i(w,ne)},$$slots:{default:!0}})});var le=S(L,2);U(le,()=>Ve,(D,W)=>{W(D,{children:(w,Ie)=>{H();var ne=V("This action cannot be undone. This will permanently update your shortcut.");i(w,ne)},$$slots:{default:!0}})}),i(se,E)},$$slots:{default:!0}})});var re=S(C,2),de=z(re);ve(de,{type:"text",placeholder:"Shortcut Name",get value(){return e(n).shortcutName},set value(N){e(n).shortcutName=N}});var xe=S(de,2);ve(xe,{type:"text",placeholder:"Mumble URL",get value(){return e(n).mumbleUrl},set value(N){e(n).mumbleUrl=N}}),J(re);var be=S(re,2);U(be,()=>He,(N,ae)=>{ae(N,{class:"grid grid-cols-2 gap-2",children:(se,ye)=>{var E=Ge(),L=y(E);Y(L,{variant:"outline",onclick:()=>{_e(e(n))},class:"grid-cols-1 w-full",children:(D,W)=>{H();var w=V("Update");i(D,w)},$$slots:{default:!0}});var le=S(L,2);Y(le,{variant:"outline",onclick:()=>{u(d,!1)},class:"grid-cols-1 w-full",children:(D,W)=>{H();var w=V("Cancel");i(D,w)},$$slots:{default:!0}}),i(se,E)},$$slots:{default:!0}})}),i(m,P)},$$slots:{default:!0}})}),i(h,c)},$$slots:{default:!0}})}),i(f,ie),B()}function Ze(f){Xe(f,{})}var et=M('<div class="flex flex-col gap-2"><!></div>');function nt(f){var t=et(),n=z(t);Ze(n),J(t),i(f,t)}export{nt as component};
